{% extends "base.html" %}
{% block title %}
    Home
{% endblock title %}

{% block content %}
{% comment %} <h3>Please enter the following information to predict your flow.</h3>
<form method="post" class="bg-light p-4 rounded shadow" id="cycle-data-form">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="{{ form.current_date.id_for_label }}">{{ form.current_date.label }}</label>
        <input type="date" name="{{ form.current_date.name }}" id="{{ form.current_date.id_for_label }}" class="form-control" value="{{ form.current_date.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.cramp_level.id_for_label }}">{{ form.cramp_level.label }}</label>
        <select name="{{ form.cramp_level.name }}" id="{{ form.cramp_level.id_for_label }}" class="form-control">
            {% for value, label in form.cramp_level.field.choices %}
                <option value="{{ value }}"{% if form.cramp_level.value == value %} selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
    </div>
    
    <div class="form-group">
        <label for="{{ form.height.id_for_label }}">{{ form.height.label }}</label>
        <input type="number" name="{{ form.height.name }}" id="{{ form.height.id_for_label }}" placeholder="Enter height in cm" class="form-control" value="{{ form.height.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.weight.id_for_label }}">{{ form.weight.label }}</label>
        <input type="number" name="{{ form.weight.name }}" id="{{ form.weight.id_for_label }}" placeholder="Enter weight in kg" class="form-control" value="{{ form.weight.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.age.id_for_label }}">{{ form.age.label }}</label>
        <input type="number" name="{{ form.age.name }}" id="{{ form.age.id_for_label }}" class="form-control" value="{{ form.age.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.previous_cycle_start.id_for_label }}">{{ form.previous_cycle_start.label }}</label>
        <input type="date" name="{{ form.previous_cycle_start.name }}" id="{{ form.previous_cycle_start.id_for_label }}" class="form-control" value="{{ form.previous_cycle_start.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.previous_cycle_end.id_for_label }}">{{ form.previous_cycle_end.label }}</label>
        <input type="date" name="{{ form.previous_cycle_end.name }}" id="{{ form.previous_cycle_end.id_for_label }}" class="form-control" value="{{ form.previous_cycle_end.value|default_if_none:'' }}">
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
</form> {% endcomment %}
<h3>Please enter the following information to predict your flow.</h3>
<form method="post" class="bg-light p-4 rounded shadow">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="{{ form.current_date.id_for_label }}">{{ form.current_date.label }}</label>
        <input type="date" name="{{ form.current_date.name }}" id="{{ form.current_date.id_for_label }}" class="form-control" value="{{ form.current_date.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.cramp_level.id_for_label }}">{{ form.cramp_level.label }}</label>
        <select name="{{ form.cramp_level.name }}" id="{{ form.cramp_level.id_for_label }}" class="form-control">
            {% for value, label in form.cramp_level.field.choices %}
                <option value="{{ value }}"{% if form.cramp_level.value == value %} selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
    </div>
    
    <div class="form-group">
        <label for="{{ form.height.id_for_label }}">{{ form.height.label }}</label>
        <input type="number" name="{{ form.height.name }}" id="{{ form.height.id_for_label }}" placeholder="Enter height in cm" class="form-control" value="{{ form.height.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.weight.id_for_label }}">{{ form.weight.label }}</label>
        <input type="number" name="{{ form.weight.name }}" id="{{ form.weight.id_for_label }}" placeholder="Enter weight in kg" class="form-control" value="{{ form.weight.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.age.id_for_label }}">{{ form.age.label }}</label>
        <input type="number" name="{{ form.age.name }}" id="{{ form.age.id_for_label }}" class="form-control" value="{{ form.age.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.previous_cycle_start.id_for_label }}">{{ form.previous_cycle_start.label }}</label>
        <input type="date" name="{{ form.previous_cycle_start.name }}" id="{{ form.previous_cycle_start.id_for_label }}" class="form-control" value="{{ form.previous_cycle_start.value|default_if_none:'' }}">
    </div>
    
    <div class="form-group">
        <label for="{{ form.previous_cycle_end.id_for_label }}">{{ form.previous_cycle_end.label }}</label>
        <input type="date" name="{{ form.previous_cycle_end.name }}" id="{{ form.previous_cycle_end.id_for_label }}" class="form-control" value="{{ form.previous_cycle_end.value|default_if_none:'' }}">
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
</form> 


  {% comment %} <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
      table { border-collapse: collapse; }
      td { width: 50px; height: 50px; text-align: center; border: 1px solid #ddd; cursor: pointer; }
      .popup { display: none; position: absolute; background: white; border: 1px solid #000; padding: 10px; }
  </style>


  <h1>Calendar</h1>
  <table>
      {% for week in cal %}
      <tr>
          {% for day in week %}
          <td class="day" data-date="{{ day|add:0 }}">{% if day %}{{ day }}{% endif %}</td>
          {% endfor %}
      </tr>
      {% endfor %}
  </table>

  <div class="popup" id="popup"></div>

  <script>
      $(document).ready(function() {
          $(".day").click(function() {
              var date = $(this).data("date");
              if (date) {
                  // Display the popup with event information
                  $("#popup").text("Events on " + date).css({
                      top: event.pageY + 5,
                      left: event.pageX + 5
                  }).show();
              }
          });

          $(document).click(function(event) {
              if (!$(event.target).closest('.day').length) {
                  $("#popup").hide();
              }
          });
      });
  </script>
 {% endcomment %}

    
{% endblock content %}
